
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Cocos AI SMPC Platform">
      
      
      
        <link rel="canonical" href="https://docs.cocos.ai/algorithms/">
      
      
        <link rel="prev" href="../cli/">
      
      
        <link rel="next" href="../developer-guide/">
      
      
      <link rel="icon" href="../img/logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Algorithms - Cocos AI</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#algorithms" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Cocos AI" class="md-header__button md-logo" aria-label="Cocos AI" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cocos AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Algorithms
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ultravioletrs/cocos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Cocos AI" class="md-nav__button md-logo" aria-label="Cocos AI" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    Cocos AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ultravioletrs/cocos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../computation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Computation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../hal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HAL
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../attestation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attestation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tee/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TEE
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manager
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Algorithms
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Algorithms
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#binary-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Binary Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-binary-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Running Binary Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running Binary Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Download Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-addition-example" class="md-nav__link">
    <span class="md-ellipsis">
      Build Addition example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-binary-algorithms-with-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Running Binary Algorithms With Datasets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running Binary Algorithms With Datasets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-iris-prediction-example" class="md-nav__link">
    <span class="md-ellipsis">
      Build Iris Prediction example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Python Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-python-algorithms-without-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Running Python Algorithms without Datasets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-python-algorithms-with-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Running Python Algorithms with Datasets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-algorithms-with-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Running Algorithms with arguments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building The Docker Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-docker-in-svm" class="md-nav__link">
    <span class="md-ellipsis">
      Running Docker in SVM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wasm-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Wasm Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wasm Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-wasm-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Running WASM Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running WASM Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-wasm-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Download WASM Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-addition-wasm-example" class="md-nav__link">
    <span class="md-ellipsis">
      Build Addition WASM example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer's Guide
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#binary-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Binary Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-binary-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Running Binary Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running Binary Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Download Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-addition-example" class="md-nav__link">
    <span class="md-ellipsis">
      Build Addition example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-binary-algorithms-with-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Running Binary Algorithms With Datasets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running Binary Algorithms With Datasets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-iris-prediction-example" class="md-nav__link">
    <span class="md-ellipsis">
      Build Iris Prediction example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Python Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-python-algorithms-without-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Running Python Algorithms without Datasets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-python-algorithms-with-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Running Python Algorithms with Datasets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-algorithms-with-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Running Algorithms with arguments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building The Docker Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-docker-in-svm" class="md-nav__link">
    <span class="md-ellipsis">
      Running Docker in SVM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wasm-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Wasm Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wasm Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-wasm-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Running WASM Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running WASM Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-wasm-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Download WASM Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-addition-wasm-example" class="md-nav__link">
    <span class="md-ellipsis">
      Build Addition WASM example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="algorithms">Algorithms<a class="headerlink" href="#algorithms" title="Permanent link">#</a></h1>
<p>Currently, cocos supports running the following algorithms:</p>
<ul>
<li>binary algorithms</li>
<li>python scripts</li>
<li>docker images</li>
<li>wasm modules</li>
</ul>
<h2 id="binary-algorithms">Binary Algorithms<a class="headerlink" href="#binary-algorithms" title="Permanent link">#</a></h2>
<p>Binary algorithms are compiled to run on the enclave. The enclave is a secure environment that runs on the host machine. The enclave is created by the manager and the agent is loaded into the enclave. The agent is responsible for running the computation and communicating with the outside world.</p>
<h3 id="running-binary-algorithms">Running Binary Algorithms<a class="headerlink" href="#running-binary-algorithms" title="Permanent link">#</a></h3>
<p>For Binary algorithms, with datatsets or without datasets the process is similar to all the other algorithms.</p>
<p>NOTE: Make sure you have terminated the previous computation before starting a new one.</p>
<h4 id="download-examples">Download Examples<a class="headerlink" href="#download-examples" title="Permanent link">#</a></h4>
<p>Download the examples from the <a href="https://github.com/ultravioletrs/ai">AI repository</a> and follow the <a href="https://github.com/ultravioletrs/ai/blob/main/burn-algorithms/COCOS.md">instructions in the README file</a> to compile one of the examples.</p>
<pre><code class="language-bash">git clone https://github.com/ultravioletrs/ai
</code></pre>
<h4 id="build-addition-example">Build Addition example<a class="headerlink" href="#build-addition-example" title="Permanent link">#</a></h4>
<p>Make sure you have Rust installed. If not, you can install it by following the instructions <a href="https://www.rust-lang.org/tools/install">here</a>.</p>
<pre><code class="language-bash">cd ai/burn-algorithms
</code></pre>
<p>NOTE: Make sure you have rust installed. If not, you can install it by following the instructions <a href="https://www.rust-lang.org/tools/install">here</a>.</p>
<pre><code class="language-bash">cargo build --release --bin addition --features cocos
</code></pre>
<p>This will generate the binary in the <code>target/release</code> folder. Copy the binary to the <code>cocos</code> folder.</p>
<pre><code class="language-bash">cp target/release/addition ../../cocos/
</code></pre>
<p>Start the computation server:</p>
<pre><code class="language-bash">go run ./test/computations/main.go ./addition public.pem false
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">{&quot;time&quot;:&quot;2024-08-19T14:09:28.852409931+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;manager_test_server service gRPC server listening at :7001 without TLS&quot;}
</code></pre>
<p>Start the manager</p>
<pre><code class="language-bash">sudo \
MANAGER_QEMU_SMP_MAXCPUS=4 \
MANAGER_GRPC_URL=localhost:7001 \
MANAGER_LOG_LEVEL=debug \
MANAGER_QEMU_ENABLE_SEV_SNP=false \
MANAGER_QEMU_OVMF_CODE_FILE=/usr/share/edk2/x64/OVMF_CODE.fd \
MANAGER_QEMU_OVMF_VARS_FILE=/usr/share/edk2/x64/OVMF_VARS.fd \
go run main.go
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">{&quot;time&quot;:&quot;2024-08-19T14:10:00.239331599+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;-enable-kvm -machine q35 -cpu EPYC -smp 4,maxcpus=4 -m 2048M,slots=5,maxmem=30G -drive if=pflash,format=raw,unit=0,file=/usr/share/edk2/x64/OVMF_CODE.fd,readonly=on -drive if=pflash,format=raw,unit=1,file=/usr/share/edk2/x64/OVMF_VARS.fd -netdev user,id=vmnic,hostfwd=tcp::7020-:7002 -device virtio-net-pci,disable-legacy=on,iommu_platform=true,netdev=vmnic,addr=0x2,romfile= -device vhost-vsock-pci,id=vhost-vsock-pci0,guest-cid=3 -vnc :0 -kernel img/bzImage -append \&quot;earlyprintk=serial console=ttyS0\&quot; -initrd img/rootfs.cpio.gz -nographic -monitor pty&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:10:17.798497671+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Method Run for computation took 17.438247421s to complete&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:10:17.800162858+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Agent Log/Event, Computation ID: 1, Message: agent_log:{message:\&quot;Transition: receivingManifest -&gt; receivingManifest\\n\&quot;  computation_id:\&quot;1\&quot;  level:\&quot;DEBUG\&quot;  timestamp:{seconds:1724065817  nanos:796771386}}&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:10:17.800336232+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Agent Log/Event, Computation ID: 1, Message: agent_log:{message:\&quot;Transition: receivingAlgorithm -&gt; receivingAlgorithm\\n\&quot;  computation_id:\&quot;1\&quot;  level:\&quot;DEBUG\&quot;  timestamp:{seconds:1724065817  nanos:797222579}}&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:10:17.80043386+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Agent Log/Event, Computation ID: 1, Message: agent_event:{event_type:\&quot;receivingAlgorithm\&quot;  timestamp:{seconds:1724065817  nanos:797263757}  computation_id:\&quot;1\&quot;  originator:\&quot;agent\&quot; status:\&quot;in-progress\&quot;}&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:10:17.8005587+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Agent Log/Event, Computation ID: 1, Message: agent_log:{message:\&quot;agent service gRPC server listening at :7002 without TLS\&quot;  computation_id:\&quot;1\&quot;  level:\&quot;INFO\&quot;  timestamp:{seconds:1724065817  nanos:797467753}}&quot;}
2024/08/19 14:10:20 traces export: Post &quot;http://localhost:4318/v1/traces&quot;: dial tcp [::1]:4318: connect: connection refused
</code></pre>
<p>The logs from the computation server will be similar to this:</p>
<pre><code class="language-bash">{&quot;time&quot;:&quot;2024-08-19T14:09:28.852409931+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;manager_test_server service gRPC server listening at :7001 without TLS&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:10:00.354929002+03:00&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;msg&quot;:&quot;received who am on ip address [::1]:57968&quot;}
received agent event
&amp;{event_type:&quot;vm-provision&quot; timestamp:{seconds:1724065800 nanos:360232336} computation_id:&quot;1&quot; originator:&quot;manager&quot; status:&quot;starting&quot;}
received agent event
&amp;{event_type:&quot;vm-provision&quot; timestamp:{seconds:1724065800 nanos:360990806} computation_id:&quot;1&quot; originator:&quot;manager&quot; status:&quot;in-progress&quot;}
received agent log
&amp;{message:&quot;char device redirected to /dev/pts/9 (label compat_monitor0)\n&quot; computation_id:&quot;1&quot; level:&quot;debug&quot; timestamp:{seconds:1724065800 nanos:403232551}}
received agent log
&amp;{message:&quot;\x1b[2J&quot; computation_id:&quot;1&quot; level:&quot;debug&quot; timestamp:{seconds:1724065801 nanos:103436975}}
received agent event
&amp;{event_type:&quot;vm-provision&quot; timestamp:{seconds:1724065817 nanos:798465068} computation_id:&quot;1&quot; originator:&quot;manager&quot; status:&quot;complete&quot;}
received runRes
&amp;{agent_port:&quot;6050&quot; computation_id:&quot;1&quot;}
received agent log
&amp;{message:&quot;Transition: receivingManifest -&gt; receivingManifest\n&quot; computation_id: &quot;1&quot; level:&quot;DEBUG&quot; timestamp:{seconds:1724065817 nanos:796771386}}
received agent log
&amp;{message:&quot;Transition: receivingAlgorithm -&gt; receivingAlgorithm\n&quot; computation_id:&quot;1&quot; level:&quot;DEBUG&quot; timestamp:{seconds:1724065817 nanos:797222579}}
received agent event
&amp;{event_type:&quot;receivingAlgorithm&quot; timestamp:{seconds:1724065817 nanos:797263757} computation_id:&quot;1&quot; originator:&quot;agent&quot; status:&quot;in-progress&quot;}
received agent log
&amp;{message:&quot;agent service gRPC server listening at :7002 without TLS&quot; computation_id:&quot;1&quot; level:&quot;INFO&quot; timestamp:{seconds:1724065817 nanos:797467753}}
</code></pre>
<p>Export the agent grpc url</p>
<pre><code class="language-bash">export AGENT_GRPC_URL=localhost:6050
</code></pre>
<p>Upload the algorithm</p>
<pre><code class="language-bash">./build/cocos-cli algo ./addition ./private.pem
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">2024/08/19 14:14:10 Uploading algorithm binary: ./addition
Uploading algorithm...  100% [===============================================&gt;]
2024/08/19 14:14:10 Successfully uploaded algorithm
</code></pre>
<p>Since the algorithm is a binary, we don't need to upload the requirements file. Also, this is the addition example so we don't need to upload the dataset.</p>
<p>Finally, download the results</p>
<pre><code class="language-bash">./build/cocos-cli result ./private.pem
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">2024/08/19 14:14:31 Retrieving computation result file
2024/08/19 14:14:31 Computation result retrieved and saved successfully!
</code></pre>
<p>Unzip the results</p>
<pre><code class="language-bash">unzip result.zip -d results
</code></pre>
<pre><code class="language-bash">cat results/results.txt
</code></pre>
<p>The output will be similar to this:</p>
<pre><code class="language-bash">&quot;[5.141593, 4.0, 5.0, 8.141593]&quot;
</code></pre>
<p>Terminal recording session</p>
<p><a href="https://asciinema.org/a/HsMDuJT4lMs2BQLqCbvTiGzNe"><img alt="asciicast" src="https://asciinema.org/a/HsMDuJT4lMs2BQLqCbvTiGzNe.svg" /></a></p>
<p>For real-world examples to test with cocos, see our <a href="https://github.com/ultravioletrs/ai">AI repository</a>.</p>
<h3 id="running-binary-algorithms-with-datasets">Running Binary Algorithms With Datasets<a class="headerlink" href="#running-binary-algorithms-with-datasets" title="Permanent link">#</a></h3>
<p>NOTE: Make sure you have terminated the previous computation before starting a new one.</p>
<h4 id="build-iris-prediction-example">Build Iris Prediction example<a class="headerlink" href="#build-iris-prediction-example" title="Permanent link">#</a></h4>
<p>Make sure you have Rust installed. If not, you can install it by following the instructions <a href="https://www.rust-lang.org/tools/install">here</a>.</p>
<pre><code class="language-bash">cd ai/burn-algorithms
</code></pre>
<p>NOTE: Make sure you have rust installed. If not, you can install it by following the instructions <a href="https://www.rust-lang.org/tools/install">here</a>.</p>
<pre><code class="language-bash">cargo build --release --bin iris --features cocos
</code></pre>
<p>This will generate the binary in the <code>target/release</code> folder. Copy the binary to the <code>cocos</code> folder.</p>
<pre><code class="language-bash">cp target/release/iris ../../cocos/
</code></pre>
<p>Copy the dataset to the <code>cocos</code> folder.</p>
<pre><code class="language-bash">cp iris/data/Iris.csv ../../cocos
</code></pre>
<p>Start the computation server:</p>
<pre><code class="language-bash">go run ./test/computations/main.go ./iris public.pem false ./Iris.csv
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">{&quot;time&quot;:&quot;2024-08-19T14:26:11.446590856+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;manager_test_server service gRPC server listening at :7001 without TLS&quot;}
</code></pre>
<p>Start the manager</p>
<pre><code class="language-bash">sudo \
MANAGER_QEMU_SMP_MAXCPUS=4 \
MANAGER_GRPC_URL=localhost:7001 \
MANAGER_LOG_LEVEL=debug \
MANAGER_QEMU_ENABLE_SEV_SNP=false \
MANAGER_QEMU_OVMF_CODE_FILE=/usr/share/edk2/x64/OVMF_CODE.fd \
MANAGER_QEMU_OVMF_VARS_FILE=/usr/share/edk2/x64/OVMF_VARS.fd \
go run main.go
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">{&quot;time&quot;:&quot;2024-08-19T14:26:20.869571321+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;-enable-kvm -machine q35 -cpu EPYC -smp 4,maxcpus=4 -m 2048M,slots=5,maxmem=30G -drive if=pflash,format=raw,unit=0,file=/usr/share/edk2/x64/OVMF_CODE.fd,readonly=on -drive if=pflash,format=raw,unit=1,file=/usr/share/edk2/x64/OVMF_VARS.fd -netdev user,id=vmnic,hostfwd=tcp::7020-:7002 -device virtio-net-pci,disable-legacy=on,iommu_platform=true,netdev=vmnic,addr=0x2,romfile= -device vhost-vsock-pci,id=vhost-vsock-pci0,guest-cid=3 -vnc :0 -kernel img/bzImage -append \&quot;earlyprintk=serial console=ttyS0\&quot; -initrd img/rootfs.cpio.gz -nographic -monitor pty&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:26:39.096019489+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Method Run for computation took 18.206099301s to complete&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:26:39.097590785+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Agent Log/Event, Computation ID: 1, Message: agent_log:{message:\&quot;Transition: receivingManifest -&gt; receivingManifest\\n\&quot;  computation_id:\&quot;1\&quot;  level:\&quot;DEBUG\&quot;  timestamp:{seconds:1724066799  nanos:94341079}}&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:26:39.097907318+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Agent Log/Event, Computation ID: 1, Message: agent_event:{event_type:\&quot;receivingAlgorithm\&quot;  timestamp:{seconds:1724066799  nanos:94599012}  computation_id:\&quot;1\&quot;  originator:\&quot;agent\&quot;  status:\&quot;in-progress\&quot;}&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:26:39.097933878+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Agent Log/Event, Computation ID: 1, Message: agent_log:{message:\&quot;agent service gRPC server listening at :7002 without TLS\&quot;  computation_id:\&quot;1\&quot;  level:\&quot;INFO\&quot;  timestamp:{seconds:1724066799  nanos:94831037}}&quot;}
2024/08/19 14:26:40 traces export: Post &quot;http://localhost:4318/v1/traces&quot;: dial tcp [::1]:4318: connect: connection refused
</code></pre>
<p>The logs from the computation server will be similar to this:</p>
<pre><code class="language-bash">{&quot;time&quot;:&quot;2024-08-19T14:26:11.446590856+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;manager_test_server service gRPC server listening at :7001 without TLS&quot;}
{&quot;time&quot;:&quot;2024-08-19T14:26:20.871605244+03:00&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;msg&quot;:&quot;received who am on ip address [::1]:47994&quot;}
received agent event
&amp;{event_type:&quot;vm-provision&quot; timestamp:{seconds:1724066780 nanos:889897585} computation_id:&quot;1&quot; originator:&quot;manager&quot; status:&quot;starting&quot;}
received agent event
&amp;{event_type:&quot;vm-provision&quot; timestamp:{seconds:1724066780 nanos:891441319} computation_id:&quot;1&quot; originator:&quot;manager&quot; status:&quot;in-progress&quot;}
received agent log
&amp;{message:&quot;char device redirected to /dev/pts/8 (label compat_monitor0)\n&quot; computation_id:&quot;1&quot; level:&quot;debug&quot; timestamp:{seconds:1724066780 nanos:935158505}}
received agent log
&amp;{message:&quot;\x1b[2&quot; computation_id:&quot;1&quot; level:&quot;debug&quot; timestamp:{seconds:1724066781 nanos:414565103}}
received agent event
&amp;{event_type:&quot;vm-provision&quot; timestamp:{seconds:1724066799 nanos:95970587} computation_id:&quot;1&quot; originator:&quot;manager&quot; status:&quot;complete&quot;}
received runRes
&amp;{agent_port:&quot;6014&quot; computation_id:&quot;1&quot;}
received agent log
&amp;{message:&quot;Transition: receivingManifest -&gt; receivingManifest\n&quot; computation_id:&quot;1&quot; level:&quot;DEBUG&quot; timestamp:{seconds:1724066799 nanos:94341079}}
received agent event
&amp;{event_type:&quot;receivingAlgorithm&quot; timestamp:{seconds:1724066799 nanos:94599012} computation_id:&quot;1&quot; originator:&quot;agent&quot; status:&quot;in-progress&quot;}
received agent log
&amp;{message:&quot;agent service gRPC server listening at :7002 without TLS&quot; computation_id:&quot;1&quot; level:&quot;INFO&quot; timestamp:{seconds:1724066799 nanos:94831037}}
</code></pre>
<p>Export the agent grpc url</p>
<pre><code class="language-bash">export AGENT_GRPC_URL=localhost:6014
</code></pre>
<p>Upload the algorithm</p>
<pre><code class="language-bash">./build/cocos-cli algo ./iris ./private.pem
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">2024/08/19 14:29:58 Uploading algorithm binary: ./iris
Uploading algorithm...  100% [===============================================&gt;]
2024/08/19 14:29:58 Successfully uploaded algorithm
</code></pre>
<p>Upload the dataset</p>
<pre><code class="language-bash">./build/cocos-cli data ./Iris.csv ./private.pem
</code></pre>
<pre><code class="language-bash">2024/08/19 14:30:55 Uploading dataset CSV: ./Iris.csv
Uploading data...  100% [====================================================&gt;]
2024/08/19 14:30:55 Successfully uploaded dataset
</code></pre>
<p>Finally, download the results</p>
<pre><code class="language-bash">./build/cocos-cli result ./private.pem
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">2024/08/19 14:31:46 Retrieving computation result file
2024/08/19 14:31:46 Computation result retrieved and saved successfully!
</code></pre>
<p>Unzip the results</p>
<pre><code class="language-bash">unzip result.zip -d results
</code></pre>
<p>Build the iris example from the <a href="https://github.com/ultravioletrs/ai/tree/main/burn-algorithms">AI repository</a></p>
<pre><code class="language-bash">cd ../ai/burn-algorithms/
</code></pre>
<p>If you haven't already, create the artifacts folder</p>
<pre><code class="language-bash">mkdir -p artifacts/iris
</code></pre>
<p>Copy the results to the artifacts folder</p>
<pre><code class="language-bash">cp -r ../../cocos/results/* artifacts/iris/
</code></pre>
<p>Build the iris-inference example</p>
<pre><code class="language-bash">cargo build --release --bin iris-inference
</code></pre>
<p>Test the iris-inference example</p>
<pre><code class="language-bash">./target/release/iris-inference '{&quot;sepal_length&quot;: 7.0, &quot;sepal_width&quot;: 3.2, &quot;petal_length&quot;: 4.7, &quot;petal_width&quot;: 1.4}'
</code></pre>
<p>The output will be similar to this:</p>
<pre><code class="language-bash">Iris-versicolor
</code></pre>
<p>Terminal recording session</p>
<p><a href="https://asciinema.org/a/qQl6O4xZKzavbzMwsDT3pM6d7"><img alt="asciicast" src="https://asciinema.org/a/qQl6O4xZKzavbzMwsDT3pM6d7.svg" /></a></p>
<p>For real-world examples to test with cocos, see our <a href="https://github.com/ultravioletrs/ai">AI repository</a>.</p>
<h2 id="python-scripts">Python Scripts<a class="headerlink" href="#python-scripts" title="Permanent link">#</a></h2>
<p>Python is a high-level, interpreted programming language. Python scripts can be run on the enclave. Python is known for its simplicity and readability, making it a popular choice for beginners and experienced developers alike.</p>
<h3 id="running-python-algorithms-without-datasets">Running Python Algorithms without Datasets<a class="headerlink" href="#running-python-algorithms-without-datasets" title="Permanent link">#</a></h3>
<p>This has been covered in the <a href="../getting-started/#uploading-artefacts">previous section</a>.</p>
<h3 id="running-python-algorithms-with-datasets">Running Python Algorithms with Datasets<a class="headerlink" href="#running-python-algorithms-with-datasets" title="Permanent link">#</a></h3>
<p>For Python algorithms, with datatsets:</p>
<p>NOTE: Make sure you have terminated the previous computation before starting a new one.</p>
<p>Start the computation server:</p>
<pre><code class="language-bash">go run ./test/computations/main.go ./test/manual/algo/lin_reg.py public.pem false ./test/manual/data/iris.csv
</code></pre>
<p>Start the manager</p>
<pre><code class="language-bash">sudo \
MANAGER_QEMU_SMP_MAXCPUS=4 \
MANAGER_GRPC_URL=localhost:7001 \
MANAGER_LOG_LEVEL=debug \
MANAGER_QEMU_ENABLE_SEV_SNP=false \
MANAGER_QEMU_OVMF_CODE_FILE=/usr/share/edk2/x64/OVMF_CODE.fd \
MANAGER_QEMU_OVMF_VARS_FILE=/usr/share/edk2/x64/OVMF_VARS.fd \
go run main.go
</code></pre>
<p>Export the agent grpc url from computation server logs, by default port 6100 will be allocated. If the port is not available, a different (random) port will be allocated, within the range 6100 - 6200. The port will be indicated on the computation server logs.</p>
<pre><code class="language-bash">export AGENT_GRPC_URL=localhost:6100
</code></pre>
<p>Upload the algorithm</p>
<pre><code class="language-bash">./build/cocos-cli algo ./test/manual/algo/lin_reg.py ./private.pem -a python -r ./test/manual/algo/requirements.txt
</code></pre>
<p>We pass the requirements file to the algorithm since it has dependencies.</p>
<p>Upload the dataset</p>
<pre><code class="language-bash">./build/cocos-cli data ./test/manual/data/iris.csv ./private.pem
</code></pre>
<p>Watch the agent logs until the computation is complete. The computation will take a while to complete since it will download the dependencies and run the algorithm.</p>
<pre><code class="language-bash">&amp;{event_type:&quot;algorithm-run&quot; timestamp:{seconds:1723411516 nanos:935138750} computation_id:&quot;1&quot; originator:&quot;agent&quot; status:&quot;error&quot;}
received agent event
&amp;{event_type:&quot;resultsReady&quot; timestamp:{seconds:1723411517 nanos:882446542} computation_id:&quot;1&quot; originator:&quot;agent&quot; status:&quot;in-progress&quot;}
received agent log
&amp;{message:&quot;Transition: resultsReady -&gt; resultsReady\n&quot; computation_id:&quot;1&quot; level:&quot;DEBUG&quot; timestamp:{seconds:1723411517 nanos:882432675}}
</code></pre>
<p>Finally, download the results</p>
<pre><code class="language-bash">./build/cocos-cli result ./private.pem
</code></pre>
<p>Unzip the results</p>
<pre><code class="language-bash">unzip result.zip -d results
</code></pre>
<p>To read the results make sure you have installed the required dependencies from the requirements file. This should be done inside a virtual environment.</p>
<pre><code class="language-bash">python3 -m venv venv
source venv/bin/activate
pip install -r test/manual/algo/requirements.txt
</code></pre>
<pre><code class="language-bash">python3 test/manual/algo/lin_reg.py predict results/model.bin  test/manual/data/
</code></pre>
<p>The output will be similar to this:</p>
<pre><code class="language-bash">Precision, Recall, Confusion matrix, in training

                 precision    recall  f1-score   support

    Iris-setosa      1.000     1.000     1.000        21
Iris-versicolor      0.923     0.889     0.906        27
 Iris-virginica      0.893     0.926     0.909        27

       accuracy                          0.933        75
      macro avg      0.939     0.938     0.938        75
   weighted avg      0.934     0.933     0.933        75

[[21  0  0]
 [ 0 24  3]
 [ 0  2 25]]
Precision, Recall, and Confusion matrix, in testing

                 precision    recall  f1-score   support

    Iris-setosa      1.000     1.000     1.000        29
Iris-versicolor      1.000     1.000     1.000        23
 Iris-virginica      1.000     1.000     1.000        23

       accuracy                          1.000        75
      macro avg      1.000     1.000     1.000        75
   weighted avg      1.000     1.000     1.000        75

[[29  0  0]
 [ 0 23  0]
 [ 0  0 23]]
</code></pre>
<p>Terminal recording session</p>
<p><a href="https://asciinema.org/a/GfFrNavHJ26ne09FjwvPDox4T"><img alt="asciicast" src="https://asciinema.org/a/GfFrNavHJ26ne09FjwvPDox4T.svg" /></a></p>
<p>For real-world examples to test with cocos, see our <a href="https://github.com/ultravioletrs/ai">AI repository</a>.</p>
<h2 id="running-algorithms-with-arguments">Running Algorithms with arguments<a class="headerlink" href="#running-algorithms-with-arguments" title="Permanent link">#</a></h2>
<p>To run an algorithm that requires command line arguments, you can append the algo command on cli with the arguments needed as shown in the addition example, which we will run with args below:</p>
<p>NOTE: Make sure you have terminated the previous computation before starting a new one.</p>
<p>Start the computation server:</p>
<pre><code class="language-bash">go run ./test/computations/main.go ./test/manual/algo/addition.py public.pem false
</code></pre>
<p>Start the manager</p>
<pre><code class="language-bash">sudo \
MANAGER_QEMU_SMP_MAXCPUS=4 \
MANAGER_GRPC_URL=localhost:7001 \
MANAGER_LOG_LEVEL=debug \
MANAGER_QEMU_ENABLE_SEV_SNP=false \
MANAGER_QEMU_OVMF_CODE_FILE=/usr/share/edk2/x64/OVMF_CODE.fd \
MANAGER_QEMU_OVMF_VARS_FILE=/usr/share/edk2/x64/OVMF_VARS.fd \
go run main.go
</code></pre>
<p>Export the agent grpc url from computation server logs, by default port 6100 will be allocated. If the port is not available, a different (random) port will be allocated, within the range 6100 - 6200. The port will be indicated on the computation server logs.</p>
<pre><code class="language-bash">export AGENT_GRPC_URL=localhost:6100
</code></pre>
<p>Upload the algorithm</p>
<pre><code class="language-bash">./build/cocos-cli algo ./test/manual/algo/addition.py ./private.pem -a python --args=&quot;--a&quot; --args=&quot;100&quot; --args=&quot;--b&quot; --args=&quot;20&quot;
</code></pre>
<p>The order and args of the algorithm should be as they are required by the algorithm. In the addition example, for instance, the args are set in order of how they are expected:</p>
<pre><code class="language-bash">python3 addition.py --a 100 --b 200
</code></pre>
<p>Watch the agent logs until the computation is complete.</p>
<pre><code class="language-bash">&amp;{event_type:&quot;algorithm-run&quot; timestamp:{seconds:1723411516 nanos:935138750} computation_id:&quot;1&quot; originator:&quot;agent&quot; status:&quot;error&quot;}
received agent event
&amp;{event_type:&quot;resultsReady&quot; timestamp:{seconds:1723411517 nanos:882446542} computation_id:&quot;1&quot; originator:&quot;agent&quot; status:&quot;in-progress&quot;}
received agent log
&amp;{message:&quot;Transition: resultsReady -&gt; resultsReady\n&quot; computation_id:&quot;1&quot; level:&quot;DEBUG&quot; timestamp:{seconds:1723411517 nanos:882432675}}
</code></pre>
<p>Finally, download the results</p>
<pre><code class="language-bash">./build/cocos-cli result ./private.pem
</code></pre>
<h2 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">#</a></h2>
<p>Docker is a platform designed to build, share, and run containerized applications. A container packages the application code, runtime, system tools, libraries, and all necessary settings into a single unit. This ensures the container can be reliably transferred between different computing environments and be executed as expected.</p>
<h3 id="building-the-docker-image">Building The Docker Image<a class="headerlink" href="#building-the-docker-image" title="Permanent link">#</a></h3>
<p>The Docker images that the Agent will run inside the SVM must have some restrictions. The image must have a <code>/cocos</code> directory containing the <code>datasets</code> and <code>results</code> directories. The Agent will run this image inside the SVM and mount the <code>datasets</code> and <code>results</code> onto the<code>/cocos/datasets</code>and<code>/cocos/results</code>directories inside the image. The docker image must also contain the command that will be run when the docker container is run.</p>
<p>We will use the linear regression example from the cocos repository in this example.</p>
<pre><code class="language-bash">git clone https://github.com/ultravioletrs/cocos.git
</code></pre>
<p>Change directory to the linear regression example.</p>
<pre><code class="language-bash">cd cocos/test/manual/algo/
</code></pre>
<p>Next, run the build command and save the docker image as a<code>tar</code>file. This example Dockerfile is based of the python linear regression example using iris dataset.</p>
<pre><code class="language-bash">docker build -t linreg .
docker save linreg &gt; linreg.tar
</code></pre>
<h3 id="running-docker-in-svm">Running Docker in SVM<a class="headerlink" href="#running-docker-in-svm" title="Permanent link">#</a></h3>
<p>Change the current working directory to <code>cocos</code>.</p>
<pre><code class="language-bash">cd ./cocos
</code></pre>
<p>Start the computation server:</p>
<pre><code class="language-bash">go run ./test/computations/main.go ./test/manual/algo/linreg.tar public.pem false ./test/manual/data/iris.csv
</code></pre>
<p>Start the manager</p>
<pre><code class="language-bash">cd cmd/manager
</code></pre>
<pre><code class="language-bash">sudo \
MANAGER_QEMU_SMP_MAXCPUS=4 \
MANAGER_QEMU_MEMORY_SIZE=25G \
MANAGER_GRPC_URL=localhost:7001 \
MANAGER_LOG_LEVEL=debug \
MANAGER_QEMU_ENABLE_SEV_SNP=false \
MANAGER_QEMU_OVMF_CODE_FILE=/usr/share/edk2/x64/OVMF_CODE.fd \
MANAGER_QEMU_OVMF_VARS_FILE=/usr/share/edk2/x64/OVMF_VARS.fd \
go run main.go
</code></pre>
<p>Export the agent grpc url from computation server logs</p>
<pre><code class="language-bash">export AGENT_GRPC_URL=localhost:6100
</code></pre>
<p>Upload the algorithm</p>
<pre><code class="language-bash">./build/cocos-cli algo ./test/manual/algo/linreg.tar ./private.pem -a docker
</code></pre>
<p>Upload the dataset</p>
<pre><code class="language-bash">./build/cocos-cli data ./test/manual/data/iris.csv ./private.pem
</code></pre>
<p>After some time when the results are ready, you can run the following command to get the results:</p>
<pre><code class="language-bash">./build/cocos-cli results ./private.pem
</code></pre>
<p>The logs will be similar to this:</p>
<pre><code class="language-bash">2024/08/19 14:14:31 Retrieving computation result file
2024/08/19 14:14:31 Computation result retrieved and saved successfully!
</code></pre>
<p>Unzip the results</p>
<pre><code class="language-bash">unzip results.zip -d results
</code></pre>
<p>To make inference on the results, you can use the following command:</p>
<pre><code class="language-bash">python3 test/manual/algo/lin_reg.py predict results/model.bin  test/manual/data/
</code></pre>
<p>Terminal recording session</p>
<p><a href="https://asciinema.org/a/vHaUnKoEcXwHJR78EBzTScCuS"><img alt="asciicast" src="https://asciinema.org/a/vHaUnKoEcXwHJR78EBzTScCuS.svg" /></a></p>
<h2 id="wasm-modules">Wasm Modules<a class="headerlink" href="#wasm-modules" title="Permanent link">#</a></h2>
<p>WebAssembly (wasm) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable target for compilation of high-level languages like C/C++/Rust, enabling deployment on the web for client and server applications. Wasm modules can be run on the enclave.</p>
<h3 id="running-wasm-algorithms">Running WASM Algorithms<a class="headerlink" href="#running-wasm-algorithms" title="Permanent link">#</a></h3>
<p>NOTE: Make sure you have terminated the previous computation before starting a new one.</p>
<h4 id="download-wasm-examples">Download WASM Examples<a class="headerlink" href="#download-wasm-examples" title="Permanent link">#</a></h4>
<p>Download the examples from the <a href="https://github.com/ultravioletrs/ai">AI repository</a> and follow the <a href="https://github.com/ultravioletrs/ai/blob/main/burn-algorithms/COCOS.md">instructions in the README file</a> to compile one of the examples.</p>
<pre><code class="language-bash">git clone https://github.com/ultravioletrs/ai
</code></pre>
<h4 id="build-addition-wasm-example">Build Addition WASM example<a class="headerlink" href="#build-addition-wasm-example" title="Permanent link">#</a></h4>
<p>Make sure you have Rust installed. If not, you can install it by following the instructions <a href="https://www.rust-lang.org/tools/install">here</a>.</p>
<pre><code class="language-bash">cd ai/burn-algorithms/addition-inference
</code></pre>
<pre><code class="language-bash">cargo build --release --target wasm32-wasip1 --features cocos
</code></pre>
<p>This will generate the wasm module in the <code>../target/wasm32-wasip1/release</code> folder. Copy the module to the <code>cocos</code> folder.</p>
<pre><code class="language-bash">cp ../target/wasm32-wasip1/release/addition-inference.wasm ../../../cocos
</code></pre>
<p>Start the computation server:</p>
<pre><code class="language-bash">go run ./test/computations/main.go ./addition-inference.wasm public.pem true
</code></pre>
<p>Start the manager</p>
<pre><code class="language-bash">sudo \
MANAGER_QEMU_SMP_MAXCPUS=4 \
MANAGER_GRPC_URL=localhost:7001 \
MANAGER_LOG_LEVEL=debug \
MANAGER_QEMU_ENABLE_SEV_SNP=false \
MANAGER_QEMU_OVMF_CODE_FILE=/usr/share/edk2/x64/OVMF_CODE.fd \
MANAGER_QEMU_OVMF_VARS_FILE=/usr/share/edk2/x64/OVMF_VARS.fd \
go run main.go
</code></pre>
<p>Export the agent grpc url from computation server logs</p>
<pre><code class="language-bash">export AGENT_GRPC_URL=localhost:6013
</code></pre>
<p>Upload the algorithm</p>
<pre><code class="language-bash">./build/cocos-cli algo ./addition-inference.wasm ./private.pem -a wasm
</code></pre>
<p>Since the algorithm is a wasm module, we don't need to upload the requirements file. Also, this is the addition example so we don't need to upload the dataset.</p>
<p>Finally, download the results</p>
<pre><code class="language-bash">./build/cocos-cli result ./private.pem
</code></pre>
<p>Unzip the results</p>
<pre><code class="language-bash">unzip result.zip -d results
</code></pre>
<pre><code class="language-bash">cat results/results/results.txt
</code></pre>
<p>The output will be similar to this:</p>
<pre><code class="language-bash">&quot;[5.141593, 4.0, 5.0, 8.141593]&quot;
</code></pre>
<p>Terminal recording session</p>
<p><a href="https://asciinema.org/a/jLMzZzI13kVMXTGchDB8SKxs3"><img alt="asciicast" src="https://asciinema.org/a/jLMzZzI13kVMXTGchDB8SKxs3.svg" /></a></p>
<p>For real-world examples to test with cocos, see our <a href="https://github.com/ultravioletrs/ai">AI repository</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) Ultraviolet
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>